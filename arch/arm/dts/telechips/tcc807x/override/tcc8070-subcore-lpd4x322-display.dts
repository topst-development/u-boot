// SPDX-License-Identifier: (GPL-2.0-or-later OR MIT)
/*
 * Copyright (C) 2023 Telechips Inc.
 */
#include <dt-bindings/display/tcc8070-lpd4x322-panel.h>
#include "tcc807x-disp.dtsi"
/*==============================================================================
 * TCC807x DISPLAY PATH
 * ---------------------------
 * FB2 : fb2<fb2_display_out> -> <fb_dsi_input_0>fb_dsi_0
 *	 RDMA8        -> DISP2 -> MUX2 -> DSI
==============================================================================*/
/* FB2 : CLUSTER */
&tcc_fb_dm2 {
	status = "okay";
	fb-buf-id = <0>;
	fb-buf-addr = <0x4A800000>;
};

/* fb2_display_out -> fb_dsi_input_0 */
&fb2_out {
	fb2_display_out: endpoint {
		remote-endpoint = <&fb_dsi_input_0>;
	};
};

&fb_dsi_0 {
	status = "okay";
	#if defined(LCD_PORT3_PWR) && defined(LCD_PORT3_RST) && \
	    defined(LCD_PORT3_BLK)
	pinctrl-0 = <&lcd_port_default3>;
	pinctrl-1 = <&lcd_port_power_on3>;
	pinctrl-2 = <&lcd_port_reset_off3>;
	pinctrl-3 = <&lcd_port_blk_on3>;
	pinctrl-4 = <&lcd_port_blk_off3>;
	pinctrl-5 = <&lcd_port_reset_on3 &lcd_port_power_off3>;
	#endif
	#if defined(DP_HPD_GPIO)
	pinctrl-6 = <&dp_hpd_gpio>;
	#endif
	#if defined(LCD_PORT_SER_PWDN)
	pinctrl-6 = <&lcd_port_ser_pwdn>;
	#endif
};

/* fb2_display_out -> fb_dsi_input_0 */
&dsi_in0 {
	fb_dsi_input_0: endpoint@0 {
		reg = <0>;
		remote-endpoint = <&fb2_display_out>;
	};
};
